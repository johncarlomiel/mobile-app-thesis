<ion-header>
  <ion-navbar color="primary">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Events</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding class="bg-color">
  <ion-segment [(ngModel)]="page">
    <ion-segment-button value="incoming" style="font-family: 'Montserrat-Bold' !important;">
      Incoming Events
    </ion-segment-button>
    <ion-segment-button value="past" style="font-family: 'Montserrat-Bold' !important;">
      Past Events
    </ion-segment-button>
  </ion-segment>

  <div *ngIf="page == 'incoming'">
    <div *ngFor="let event of events; let i = index;">

      <ion-card *ngIf="isFuture(event)" color="primary">
        <ion-item color="primary">
          <ion-avatar item-start>
            <img src="assets/icon/icon.png">
          </ion-avatar>
          <h2 style="color:white;" class="font-bold">{{event.name}}</h2>
          <p class="font-regular">{{event.date}}</p>
        </ion-item>

        <img [src]="event.poster_url" style="width:100%;height:100%;" (click)="viewPhoto(event.poster_url, event.name)">

        <ion-row>
          <ion-col col-4>
            <button color="light" ion-button icon-start clear small (click)="like(i)">
              <ion-icon [name]="event.icon"></ion-icon>
              <div>{{event.likes_counter}}</div>
            </button>
          </ion-col>
          <ion-col col-4>
            <button color="light" ion-button icon-start clear small (click)="goToEvent(event);">
              <ion-icon name="text"></ion-icon>
              <div>{{event.comments_counter}}</div>
            </button>
          </ion-col>
          <ion-col col-4>
            <button color="light" ion-button icon-start clear small (click)="share(event);">
              <ion-icon name="paper-plane"></ion-icon>
              <div>Share</div>
            </button>
          </ion-col>
        </ion-row>

      </ion-card>

    </div>
  </div>

  <div *ngIf="page == 'past'">

    <div *ngFor="let event of events;let i = index;">

      <ion-card *ngIf="isPast(event)" color="primary">
        <ion-item color="primary">
          <ion-avatar item-start>
            <img src="assets/icon/icon.png">
          </ion-avatar>
          <h2 class="font-bold" style="color:white;">{{event.name}}</h2>
          <p class="font-regular">{{event.date}}</p>
        </ion-item>

        <img [src]="event.poster_url" style="width:100%;height:100%;" (click)="viewPhoto(event.poster_url, event.name)">


        <ion-row>
          <ion-col col-4>
            <button color="light" ion-button icon-start clear small (click)="like(i)">
              <ion-icon [name]="event.icon"></ion-icon>
              <div>{{event.likes_counter}}</div>
            </button>
          </ion-col>
          <ion-col col-4>
            <button color="light" ion-button icon-start clear small (click)="goToEvent(event);">
              <ion-icon name="text"></ion-icon>
              <div>{{event.comments_counter}}</div>
            </button>
          </ion-col>
          <ion-col col-4>
            <button color="light" ion-button icon-start clear small (click)="share(event);">
              <ion-icon name="paper-plane"></ion-icon>
              <div>Share</div>
            </button>
          </ion-col>
        </ion-row>

      </ion-card>

    </div>
  </div>
</ion-content>