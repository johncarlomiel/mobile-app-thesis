<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Events</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-segment [(ngModel)]="page">
    <ion-segment-button value="incoming">
      Incoming Events
    </ion-segment-button>
    <ion-segment-button value="past">
      Past Events
    </ion-segment-button>
  </ion-segment>

  <div *ngIf="page == 'incoming'">
    <div *ngFor="let event of events; let i = index;">

      <ion-card *ngIf="isFuture(event)">
        <ion-item>
          <ion-avatar item-start>
            <img src="assets/icon/icon.png">
          </ion-avatar>
          <h2>{{event.name}}</h2>
          <p>{{event.date}}</p>
        </ion-item>

        <img [src]="event.poster_url" style="width:100%;height:100%;" (click)="viewPhoto(event.poster_url, event.name)">

        <ion-card-content>
          <p>{{event.description}}</p>
        </ion-card-content>

        <ion-row>
          <ion-col col-4>
            <button ion-button icon-start clear small (click)="like(i)">
              <ion-icon [name]="event.icon"></ion-icon>
              <div>{{event.likes_counter}}</div>
            </button>
          </ion-col>
          <ion-col col-4>
            <button ion-button icon-start clear small (click)="goToEvent(event);">
              <ion-icon name="text"></ion-icon>
              <div>{{event.comments_counter}}</div>
            </button>
          </ion-col>
          <ion-col col-4>
            <button ion-button icon-start clear small (click)="share(event);">
              <ion-icon name="paper-plane"></ion-icon>
              <div>Share</div>
            </button>
          </ion-col>
        </ion-row>

      </ion-card>

    </div>
  </div>

  <div *ngIf="page == 'past'">

    <div *ngFor="let event of events;let i = index;">

      <ion-card *ngIf="isPast(event)">
        <ion-item>
          <ion-avatar item-start>
            <img src="assets/icon/icon.png">
          </ion-avatar>
          <h2>{{event.name}}</h2>
          <p>{{event.date}}</p>
        </ion-item>

        <img [src]="event.poster_url" style="width:100%;height:100%;" (click)="viewPhoto(event.poster_url, event.name)">

        <ion-card-content>
          <p>{{event.description}}</p>
        </ion-card-content>

        <ion-row>
          <ion-col col-4>
            <button ion-button icon-start clear small (click)="like(i)">
              <ion-icon [name]="event.icon"></ion-icon>
              <div>{{event.likes_counter}}</div>
            </button>
          </ion-col>
          <ion-col col-4>
            <button ion-button icon-start clear small (click)="goToEvent(event);">
              <ion-icon name="text"></ion-icon>
              <div>{{event.comments_counter}}</div>
            </button>
          </ion-col>
          <ion-col col-4>
            <button ion-button icon-start clear small (click)="share(event);">
              <ion-icon name="paper-plane"></ion-icon>
              <div>Share</div>
            </button>
          </ion-col>
        </ion-row>

      </ion-card>

    </div>
  </div>
</ion-content>